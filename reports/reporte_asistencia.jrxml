<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reporte_asistencia" language="groovy" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="125cafe0-8396-4abc-bc22-688124ec3965">
	<property name="ireport.zoom" value="1.0514816984441777"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="dni" class="java.lang.String"/>
	<parameter name="retraso_acumulado" class="java.lang.String"/>
	<parameter name="m" class="java.lang.Integer"/>
	<queryString language="SQL">
		<![CDATA[SELECT CONCAT(u.nom_usu,SPACE(1),u.pat_usu,SPACE(1),u.mat_usu) as 'USUARIO', fec_asi, hor_ent_usu,hor_ing_asi,hor_sal_asi, con_asi,tar_asi,jus_tar_asi FROM tb_asistencia a
INNER JOIN tb_usuario u
ON a.tb_usuario_dni_usu = u.dni_usu
WHERE u.dni_usu= $P{dni}
AND month(a.fec_asi) = $P{m}]]>
	</queryString>
	<field name="USUARIO" class="java.lang.String"/>
	<field name="fec_asi" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="hor_ent_usu" class="java.sql.Time">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="hor_ing_asi" class="java.sql.Time">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="hor_sal_asi" class="java.sql.Time">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="con_asi" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="tar_asi" class="java.sql.Time">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="jus_tar_asi" class="java.lang.String"/>
	<background>
		<band/>
	</background>
	<title>
		<band height="99">
			<frame>
				<reportElement uuid="e9340000-c637-46a5-9a2d-b4b600e3a501" mode="Opaque" x="-20" y="-20" width="595" height="92" backcolor="#FFFFFF"/>
				<staticText>
					<reportElement uuid="5c1b9000-db67-4c08-bebb-e647365b8522" x="20" y="20" width="553" height="43" forecolor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="34" isBold="true"/>
					</textElement>
					<text><![CDATA[REPORTE DE ASISTENCIA]]></text>
				</staticText>
				<textField isStretchWithOverflow="true">
					<reportElement uuid="89c9ef01-2948-482b-93f1-e0607ef15bcc" x="20" y="62" width="337" height="30" forecolor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font size="20" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{USUARIO}]]></textFieldExpression>
				</textField>
				<textField pattern="EEEEE dd MMMMM yyyy">
					<reportElement uuid="3f879e1d-a992-4b43-9e66-8b44a753d074" x="357" y="63" width="216" height="29"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="18" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["EMISIÃ“N: "+new SimpleDateFormat("dd-MMM-yyyy").format(new java.util.Date()).toUpperCase()]]></textFieldExpression>
				</textField>
			</frame>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="c9391447-9d4b-4a4a-b026-57e7882ba5e9" x="157" y="71" width="176" height="27"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("hh:mm:ss a").format($F{hor_ent_usu})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="46d1f5f1-6cc0-4b34-911d-f319e5c5580f" x="0" y="72" width="161" height="27"/>
				<textElement>
					<font size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[HORA ENTRADA:]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="13"/>
	</pageHeader>
	<columnHeader>
		<band height="21">
			<line>
				<reportElement uuid="5a226849-71f0-44f1-ac4f-6c3385bda0e0" x="-20" y="20" width="595" height="1" forecolor="#666666"/>
			</line>
			<staticText>
				<reportElement uuid="12bfe863-4bf7-4b48-a8ba-83a9d6732760" mode="Opaque" x="0" y="0" width="98" height="20" forecolor="#006699" backcolor="#E6E6E6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[FECHA]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="77f9e19b-dc33-4e0e-ab88-1364a6b8dea1" mode="Opaque" x="98" y="0" width="90" height="20" forecolor="#006699" backcolor="#E6E6E6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[INGRESO]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="f5ed206f-e19f-4c57-9e45-693d762bcec9" mode="Opaque" x="188" y="0" width="93" height="20" forecolor="#006699" backcolor="#E6E6E6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[SALIDA]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="5f6dfa26-ef85-479b-beec-cbc983e146a7" mode="Opaque" x="281" y="0" width="79" height="20" forecolor="#006699" backcolor="#E6E6E6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[RETRASO]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1f108444-5bb9-4a06-b3d5-ef02f628116f" mode="Opaque" x="360" y="0" width="101" height="20" forecolor="#006699" backcolor="#E6E6E6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[CONDICION]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="e92d5384-f132-45b1-a8ee-48078ca46e7c" mode="Opaque" x="461" y="0" width="94" height="20" forecolor="#006699" backcolor="#E6E6E6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[MOTIVO]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="22">
			<line>
				<reportElement uuid="bca94b2a-9088-4309-861c-33ac8d8a4cd9" positionType="FixRelativeToBottom" x="0" y="0" width="555" height="1"/>
			</line>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="721ba6b7-c8f8-4234-97de-bfc636e7a11a" x="98" y="1" width="90" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("hh:mm:ss a").format($F{hor_ing_asi})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="cc8d747c-4e6d-4077-9b43-13416905d44e" x="0" y="1" width="98" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("dd-MMM-yyyy").format($F{fec_asi}).toUpperCase()]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="3064f212-30c8-4f49-8e97-21329a2f9914" x="188" y="1" width="93" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("hh:mm:ss a").format($F{hor_sal_asi})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="751cb07f-277d-461f-932a-5d8aff5edcb8" x="281" y="1" width="79" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("HH:mm:ss").format($F{tar_asi})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="26e60f88-230c-4a5b-b57a-ab985ff797b3" x="360" y="1" width="101" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{con_asi}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="895641ad-65c3-46db-8c00-24a829f0ab9a" x="461" y="1" width="94" height="20"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{jus_tar_asi}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<lastPageFooter>
		<band height="20">
			<textField>
				<reportElement uuid="4633ecf4-a556-4a71-8ece-a6d4f1f6e27f" x="0" y="0" width="555" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="15" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["TOTAL MINUTOS ACUMULADOS POR TARDANZA: "+$P{retraso_acumulado}]]></textFieldExpression>
			</textField>
		</band>
	</lastPageFooter>
</jasperReport>
