<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reporte_venta" language="groovy" pageWidth="595" pageHeight="842" columnWidth="565" leftMargin="10" rightMargin="20" topMargin="15" bottomMargin="20" uuid="6e2a188c-14b6-41ba-9993-85eab9c377be">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#EFF7FF"/>
		</conditionalStyle>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#EFF7FF"/>
		</conditionalStyle>
	</style>
	<subDataset name="New Dataset 1" uuid="f1794905-c1e1-4f03-84d4-f5c28ae886a4">
		<parameter name="mes" class="java.lang.Integer">
			<parameterDescription><![CDATA[]]></parameterDescription>
		</parameter>
		<parameter name="anio" class="java.lang.Integer"/>
		<queryString>
			<![CDATA[SELECT v.fec_ven, CONCAT(a.p_con_asoc,'-',a.id_con_asoc) as 'CONTRATO', CONCAT(a.des_art,SPACE(1),a.mar_art,SPACE(1),a.mod_art) as 'desc', v.val_ven, a.cap_art, v.val_ven-a.cap_art as 'ganancia',obs_ven  FROM tb_venta v
INNER JOIN tb_articulo a
ON v.tb_articulo_cod_art = a.cod_art
WHERE MONTH(v.fec_ven)=$P{mes} AND YEAR(v.fec_ven)=$P{anio}
ORDER BY v.fec_ven]]>
		</queryString>
		<field name="fec_ven" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="CONTRATO" class="java.lang.String"/>
		<field name="desc" class="java.lang.String"/>
		<field name="val_ven" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="cap_art" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="ganancia" class="java.math.BigDecimal"/>
		<field name="obs_ven" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<variable name="ganancia_total" class="java.math.BigDecimal" calculation="Sum">
			<variableExpression><![CDATA[$F{ganancia}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="mes_parent" class="java.lang.Integer"/>
	<parameter name="anio_parent" class="java.lang.Integer"/>
	<parameter name="p" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[SELECT v.fec_ven, CONCAT(a.p_con_asoc,'-',a.id_con_asoc) as 'CONTRATO', CONCAT(a.des_art,SPACE(1),a.mar_art,SPACE(1),a.mod_art) as 'desc', v.val_ven, a.cap_art, v.val_ven-a.cap_art as 'ganancia',obs_ven  FROM tb_venta v
INNER JOIN tb_articulo a
ON v.tb_articulo_cod_art = a.cod_art
WHERE MONTH(v.fec_ven)=$P{mes_parent} AND YEAR(v.fec_ven)=$P{anio_parent}
ORDER BY v.fec_ven]]>
	</queryString>
	<field name="fec_ven" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CONTRATO" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="desc" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="val_ven" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cap_art" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ganancia" class="java.math.BigDecimal"/>
	<background>
		<band/>
	</background>
	<title>
		<band height="57">
			<textField pattern="dd MMMMM yyyy">
				<reportElement uuid="83a37ea3-470f-4ec7-9e4f-1a42d98ea884" x="75" y="33" width="490" height="20"/>
				<textElement>
					<font size="15" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="19cb069c-1d8f-4b25-a006-53ac48ee20cf" x="0" y="0" width="427" height="33" forecolor="#000000"/>
				<textElement>
					<font size="25" isBold="true"/>
				</textElement>
				<text><![CDATA[REPORTE MENSUAL DE VENTAS - ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="87f440f7-9f7e-4537-b923-8fab90582fc8" x="0" y="33" width="92" height="20" forecolor="#000000"/>
				<textElement textAlignment="Left">
					<font size="15" isBold="true" isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[EMISIÓN:]]></text>
			</staticText>
			<textField>
				<reportElement uuid="5d890f38-91a7-4398-a97e-5c8e6ed94c67" x="427" y="0" width="100" height="33"/>
				<textElement>
					<font size="25" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{p}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band/>
	</pageHeader>
	<columnFooter>
		<band/>
	</columnFooter>
	<summary>
		<band height="51">
			<componentElement>
				<reportElement uuid="f515d301-f6bc-479e-8155-3c01a6670904" key="table 2" style="table 2" x="0" y="0" width="575" height="51"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="New Dataset 1" uuid="86eb7579-14c7-43d9-9f89-4d276ebeb69a">
						<datasetParameter name="mes">
							<datasetParameterExpression><![CDATA[$P{mes_parent}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="anio">
							<datasetParameterExpression><![CDATA[$P{anio_parent}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:columnGroup width="335" uuid="a7db9d0e-36c3-4baf-a089-8eb76fe97d30">
						<jr:columnFooter height="30" rowSpan="1">
							<textField>
								<reportElement uuid="7d455aaa-6795-4325-b7c5-81390568ad0c" x="0" y="0" width="335" height="30"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Tahoma" size="15" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA["TOTAL PRENDAS VENDIDAS: "+$V{REPORT_COUNT}]]></textFieldExpression>
							</textField>
						</jr:columnFooter>
						<jr:column width="80" uuid="204577c3-8742-4ccd-99a5-d2b3875efb81">
							<jr:columnHeader style="table 2_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement uuid="2e216170-48fb-4c94-96c9-3d4330d1559f" x="0" y="0" width="80" height="30"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="14" isBold="true"/>
									</textElement>
									<text><![CDATA[FECHA]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 2_TD" height="20" rowSpan="1">
								<textField>
									<reportElement uuid="2070d2e4-6f08-44de-af54-0a2d623312d9" x="0" y="0" width="80" height="20"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="10" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[new SimpleDateFormat("dd-MMM-yyyy").format($F{fec_ven}).toUpperCase()]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="55" uuid="5f41ab40-4403-4a3d-b25f-a4c14540d8e3">
							<jr:columnHeader style="table 2_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement uuid="15e858df-b77e-49ff-a2cf-e9738db8837c" x="0" y="0" width="55" height="30"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="14" isBold="true"/>
									</textElement>
									<text><![CDATA[N° CONTRATO]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 2_TD" height="20" rowSpan="1">
								<textField>
									<reportElement uuid="d2d61045-917f-4ae4-adcd-9386824230a9" x="0" y="0" width="55" height="20"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{CONTRATO}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="200" uuid="ff3ac621-1d1a-4fee-aea3-ced136a97f0a">
							<jr:columnHeader style="table 2_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement uuid="2eb6a3f4-bf0e-4e03-a4ac-5b70ed098141" x="0" y="0" width="200" height="30"/>
									<textElement textAlignment="Left" verticalAlignment="Middle">
										<font fontName="Tahoma" size="14" isBold="true"/>
									</textElement>
									<text><![CDATA[ARTICULO]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 2_TD" height="20" rowSpan="1">
								<textField>
									<reportElement uuid="7e160d3e-0a98-4922-8287-d99ed6c1e6d6" x="0" y="0" width="200" height="20"/>
									<textElement textAlignment="Left" verticalAlignment="Middle">
										<font fontName="Tahoma" size="10" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[" "+$F{desc}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
					<jr:columnGroup width="175" uuid="8542a65d-2f29-483c-946c-8091fe8b7fe0">
						<jr:columnFooter height="30" rowSpan="1">
							<textField>
								<reportElement uuid="9849f385-66d8-412d-8f20-b9a68db2de8b" x="0" y="0" width="175" height="30"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Tahoma" size="12" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA["TOTAL GANANCIA: "+$V{ganancia_total}]]></textFieldExpression>
							</textField>
						</jr:columnFooter>
						<jr:column width="55" uuid="5753c35a-1339-4d6c-be66-019435caa358">
							<jr:columnHeader style="table 2_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement uuid="ea950683-2dcd-4d80-932e-a1106d7c2fd0" x="0" y="0" width="55" height="30"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="14" isBold="true"/>
									</textElement>
									<text><![CDATA[P.VTA.]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 2_TD" height="20" rowSpan="1">
								<textField>
									<reportElement uuid="35309dc1-1b22-4fcb-9ae9-5614d244acb0" x="0" y="0" width="55" height="20"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="10" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{val_ven}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="60" uuid="a10fd3ac-e124-419d-adc8-08e60308fe1b">
							<jr:columnHeader style="table 2_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement uuid="ae5d8cc6-2163-4901-b0e1-6f93dbbb2ca9" x="0" y="0" width="60" height="30"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="14" isBold="true"/>
									</textElement>
									<text><![CDATA[CAP.]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 2_TD" height="20" rowSpan="1">
								<textField>
									<reportElement uuid="e3634ce1-91aa-4273-bed0-938dbf216972" x="0" y="0" width="60" height="20"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="10" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{cap_art}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="60" uuid="ae9c2472-e1e6-4bd5-9083-1aeb49fce92c">
							<jr:columnHeader style="table 2_CH" height="30" rowSpan="1">
								<staticText>
									<reportElement uuid="d5d7a5a2-4708-427c-92ed-a2f7164c434f" x="0" y="0" width="60" height="30"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="14" isBold="true"/>
									</textElement>
									<text><![CDATA[GAN]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 2_TD" height="20" rowSpan="1">
								<textField>
									<reportElement uuid="89f903ca-0ac9-47bb-a908-d8fb0228c871" x="0" y="0" width="60" height="20"/>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Tahoma" size="10" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{ganancia}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
					<jr:column width="65" uuid="8afa3e32-9d89-4269-b1eb-ce48d9e21cb6">
						<jr:tableHeader height="0" rowSpan="1"/>
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:columnHeader height="30" rowSpan="1">
							<staticText>
								<reportElement uuid="98a611ae-4266-410b-afe2-f83df2976d55" style="table_CH" x="0" y="0" width="65" height="30"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Tahoma" size="14" isBold="true"/>
								</textElement>
								<text><![CDATA[OBS.]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="30" rowSpan="1"/>
						<jr:detailCell style="table 2_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="ed97f093-8954-486b-9585-8384e5207c93" x="0" y="0" width="65" height="20"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Tahoma" size="10" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{obs_ven}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</summary>
</jasperReport>
